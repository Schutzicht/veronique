---
---
<div id="custom-cursor" class="hidden lg:block fixed top-0 left-0 w-20 h-20 pointer-events-none z-[9999] mix-blend-difference">
  <!-- Liquid Outer Ring -->
  <div class="cursor-main absolute inset-0 border border-accent/20 rounded-full scale-100 transition-transform duration-500 ease-out"></div>
  
  <!-- Explicit Breast Silhouette (Borst) -->
  <div class="cursor-inner absolute inset-0 flex items-center justify-center opacity-90">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-accent">
      <!-- High-detail Anatomical Contour -->
      <path d="M10 45C10 24 22 10 30 10C38 10 50 24 50 45" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" />
      
      <!-- Prominent Areola & Nipple (The "Stout" Part) -->
      <g opacity="0.6">
        <circle cx="30" cy="10" r="8" stroke="currentColor" stroke-width="1" stroke-dasharray="1 2" />
        <circle cx="30" cy="10" r="5" stroke="currentColor" stroke-width="1.5" />
      </g>
      <circle cx="30" cy="10" r="3.5" fill="currentColor" />
      
      <!-- Depth & Form Shadows -->
      <path d="M22 45C22 45 25 36 30 36C35 36 38 45 38 45" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.5" />
      <path d="M15 45C15 45 22 30 30 30C38 30 45 45 45 45" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.2" />
      
      <!-- Subtle highlighter for form -->
      <path d="M42 25C42 25 45 30 46 35" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.1" />
    </svg>
  </div>



</div>

<style>
  #custom-cursor {
    will-change: transform;
    transition: width 0.3s, height 0.3s;
  }
</style>

<script>
  function setupCursor() {
    const cursor = document.getElementById('custom-cursor');
    const main = cursor?.querySelector('.cursor-main');
    const inner = cursor?.querySelector('.cursor-inner');
    
    if (!cursor || !main || !inner) return;

    let posX = 0, posY = 0;
    let mouseX = 0, mouseY = 0;

    // Fluid lag
    const lag = 0.1;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animate() {
      posX += (mouseX - posX) * lag;
      posY += (mouseY - posY) * lag;

      // Adjust for larger cursor size (half of 20px is 10px, but it's 20rem? no, w-20 is 5rem=80px)
      // w-20 = 80px. half is 40px.
      cursor.style.transform = `translate3d(${posX - 40}px, ${posY - 40}px, 0)`;
      requestAnimationFrame(animate);
    }

    animate();

    // Hover interactions
    const interactiveElements = document.querySelectorAll('a, button, input, .group');
    
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => {
        main.style.transform = 'scale(1.4)';
        main.style.borderColor = 'rgba(44, 93, 99, 0.5)';
        inner.style.transform = 'scale(1.2) translateY(-5px)';
        inner.style.opacity = '1';
      });
      el.addEventListener('mouseleave', () => {
        main.style.transform = 'scale(1)';
        main.style.borderColor = 'rgba(212, 197, 179, 0.2)';
        inner.style.transform = 'scale(1) translateY(0)';
        inner.style.opacity = '0.7';
      });
    });
  }

  setupCursor();
  document.addEventListener('astro:page-load', setupCursor);
</script>
